{
    "version": "https://jsonfeed.org/version/1",
    "title": "StarTrek",
    "subtitle": "",
    "icon": "https://www.xuwanxing.space/images/favicon.ico",
    "description": "♪(´▽｀) Hi~",
    "home_page_url": "https://www.xuwanxing.space",
    "items": [
        {
            "id": "https://www.xuwanxing.space/server/maintenance/Maintenance/",
            "url": "https://www.xuwanxing.space/server/maintenance/Maintenance/",
            "title": "Maintenance",
            "date_published": "2022-10-11T16:00:00.000Z",
            "content_html": "<p>Server maintenance is the practice of keeping server software updated and running so computer networks can operate as planned and avoid downtime or data loss. Routine maintenance will keep the server running as it should and will assist in avoiding a complete or partial network collapse. It includes tasks such as reviewing the server’s performance, guaranteeing that automated system monitoring services are correctly installed and set up, discovering possible security risks, and backing up data regularly.</p>\n<p>If you have the knowledge to maintain your servers, with some time, you can get the most out of your investment and considerably extend their lives. Servers can easily be maintained to decrease server disruptions.</p>\n<h2 id=\"Maintenance\"><a href=\"#Maintenance\" class=\"headerlink\" title=\"Maintenance\"></a>Maintenance</h2><h3 id=\"Check-hardware-info\"><a href=\"#Check-hardware-info\" class=\"headerlink\" title=\"Check hardware info\"></a>Check hardware info</h3><pre><code class=\"bash\">$ cat /etc/centos-release  # version\n$ lspci | grep -i nvidia  # gpu\n$ uname -a  # kernel\n\n$ lshw -html &gt; /hardware.html  # print all info\n$ lscpu  # cpu info\n$ cat /proc/cpuinfo | grep name | cut -f2 -d: | uniq -c  # cpu parameters\n$ cat /proc/cpuinfo| grep &quot;physical id&quot;| sort| uniq| wc -l  # physical cpus \n$ cat /proc/cpuinfo| grep &quot;cpu cores&quot;| uniq  # no.cores\n$ cat /proc/cpuinfo| grep &quot;processor&quot;| wc -l  # virtual cpus\n$ cat /proc/meminfo |grep MemTotal  # memory\n$ fdisk -l |grep Disk  # disk info\n$ lsscsi  # SSD\n</code></pre>\n<h3 id=\"Switch-to-multi-user-mode\"><a href=\"#Switch-to-multi-user-mode\" class=\"headerlink\" title=\"Switch to multi-user mode\"></a>Switch to multi-user mode</h3><pre><code class=\"bash\">$ systemctl get-default # graphical.target is useless\n\n$ systemctl stop gdm.service\n$ systemctl set-default multi-user.target\n</code></pre>\n<p>Reference:</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93aWtpLmRlYmlhbi5vcmcvR0RNI3N5c3RlbWQ=\">https://wiki.debian.org/GDM#systemd</span></p>\n<h3 id=\"Empty-the-buffers-and-cache\"><a href=\"#Empty-the-buffers-and-cache\" class=\"headerlink\" title=\"Empty the buffers and cache\"></a>Empty the buffers and cache</h3><p>Reference:</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly91bml4LnN0YWNrZXhjaGFuZ2UuY29tL3F1ZXN0aW9ucy84NzkwOC9ob3ctZG8teW91LWVtcHR5LXRoZS1idWZmZXJzLWFuZC1jYWNoZS1vbi1hLWxpbnV4LXN5c3RlbQ==\">https://unix.stackexchange.com/questions/87908/how-do-you-empty-the-buffers-and-cache-on-a-linux-system</span></p>\n<p>To clear the swap:</p>\n<pre><code class=\"bash\">$ swapoff /dev/dm-1\n$ swapon /dev/dm-1\n$ swapon -s\n</code></pre>\n<h3 id=\"Yum\"><a href=\"#Yum\" class=\"headerlink\" title=\"Yum\"></a>Yum</h3><pre><code class=\"bash\">$ yumdownloader packagename # off-line install\n$ yum --disablerepo=&#39;*&#39; install rpm-package \n</code></pre>\n<h3 id=\"File-operation\"><a href=\"#File-operation\" class=\"headerlink\" title=\"File operation\"></a>File operation</h3><h4 id=\"Permission\"><a href=\"#Permission\" class=\"headerlink\" title=\"Permission\"></a>Permission</h4><pre><code class=\"bash\">$ chmod -R 700 ./file\n$ chown -R user:group ./file\n</code></pre>\n<h4 id=\"Move\"><a href=\"#Move\" class=\"headerlink\" title=\"Move\"></a>Move</h4><pre><code class=\"bash\"># copy all the files including hidden files\n$ cp -a /old/. /folder/\n</code></pre>\n<h4 id=\"Download\"><a href=\"#Download\" class=\"headerlink\" title=\"Download\"></a>Download</h4><pre><code class=\"bash\"># background, continue, input, output\n$ wget -bc -i url.list -o log.txt\n# advanced options: -r recursive //-np no-parent //-4 connect only to IPv4 addresses.\n\n# write output to a file named as the remote file\n$ curl -O http://file\n</code></pre>\n<h4 id=\"compress-amp-uncompress\"><a href=\"#compress-amp-uncompress\" class=\"headerlink\" title=\"compress &amp; uncompress\"></a>compress &amp; uncompress</h4><pre><code class=\"bash\">$ tar -zxvf file -C /dir # -C uncompress to directory //-z for gzip //-j for bzip\n$ unzip file -d ./dir # -d uncompress to directory\n\n$ tar -cfz archive.tar.gz file1 file2 file3\n$ tar -czPf archive.tar.gz /file_dir -C /outdir  # -P don&#39;t strip leading `/&#39;s from file names\n</code></pre>\n<h3 id=\"Sync-time\"><a href=\"#Sync-time\" class=\"headerlink\" title=\"Sync time\"></a>Sync time</h3><h4 id=\"on-nfs01-time-control-node\"><a href=\"#on-nfs01-time-control-node\" class=\"headerlink\" title=\"on nfs01 (time control node)\"></a>on nfs01 (time control node)</h4><pre><code class=\"bash\">$ date -s &quot;2021-11-22 13:15:43&quot;\n</code></pre>\n<p>Reference:</p>\n<p><span class=\"exturl\" data-url=\"aHR0cDovL2trLmJpZ2VyLm1lL3RpbWUucGhw\">http://kk.biger.me/time.php</span></p>\n<pre><code class=\"bash\">$ clock -w\n$ systemctl restart ntpd.service\n</code></pre>\n<h4 id=\"wait-for-a-while\"><a href=\"#wait-for-a-while\" class=\"headerlink\" title=\"wait for a while\"></a>wait for a while</h4><h4 id=\"on-node01-08\"><a href=\"#on-node01-08\" class=\"headerlink\" title=\"on node01-08\"></a>on node01-08</h4><pre><code class=\"bash\">$ systemctl stop ntpd.service\n$ ntpd -gq\n$ systemctl start ntpd.service\n</code></pre>\n<h3 id=\"Sudo\"><a href=\"#Sudo\" class=\"headerlink\" title=\"Sudo\"></a>Sudo</h3><h4 id=\"add-a-sudoer\"><a href=\"#add-a-sudoer\" class=\"headerlink\" title=\"add a sudoer\"></a>add a sudoer</h4><pre><code class=\"bash\">username       ALL=(root)      /usr/sbin/*,/sbin/*,/usr/bin/*,!/usr/bin/passwd,!/usr/sbin/visudo,!/usr/sbin/useradd,!/usr/sbin/userdel,!/usr/sbin/reboot,!/usr/sbin/poweroff,!/usr/sbin/shutdown\n</code></pre>\n<p>Reference:</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2VsaXphYmV0aHh4eS9hcnRpY2xlL2RldGFpbHMvMTA4NjgyODkz\">https://blog.csdn.net/elizabethxxy/article/details/108682893</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93ZW5rdS5iYWlkdS5jb20vdmlldy8xYzFiYTAwNWJmZDEyNmZmZjcwNWNjMTc1NTI3MDcyMjE5MmU1OWVhLmh0bWw=\">https://wenku.baidu.com/view/1c1ba005bfd126fff705cc1755270722192e59ea.html</span></p>\n<h3 id=\"History\"><a href=\"#History\" class=\"headerlink\" title=\"History\"></a>History</h3><pre><code class=\"bash\">$ echo &#39;HISTTIMEFORMAT=&quot;%F %T &quot;&#39; &gt;&gt; /etc/profile\n$ source /etc/profile\n</code></pre>\n<p>Reference:</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC85OTgxODY2NA==\">https://zhuanlan.zhihu.com/p/99818664</span></p>\n<h3 id=\"Backup\"><a href=\"#Backup\" class=\"headerlink\" title=\"Backup\"></a>Backup</h3><pre><code class=\"bash\">$ rsync -zvh backup.tar /tmp/backups/ # cp file\n$ rsync -avzh /root/rpmpkgs /tmp/backups/ # cp dir\n</code></pre>\n<p>Reference:</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2VsYW1veXVqdXpoZW4vcC8xMDA4OTQ1NC5odG1s\">https://www.cnblogs.com/kelamoyujuzhen/p/10089454.html</span></p>\n",
            "tags": [
                "Server",
                "Maintenance",
                "Linux"
            ]
        },
        {
            "id": "https://www.xuwanxing.space/note/My_first_post/",
            "url": "https://www.xuwanxing.space/note/My_first_post/",
            "title": "My first post",
            "date_published": "2022-10-10T16:00:00.000Z",
            "content_html": "<p>This is a post about <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvLw==\">Hexo</span>. Check <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mv\">documentation</span> for more info. If you get any problems when using Hexo, you can find the answer in <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvdHJvdWJsZXNob290aW5nLmh0bWw=\">troubleshooting</span> or you can ask me on <span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2hleG9qcy9oZXhvL2lzc3Vlcw==\">GitHub</span>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><pre><code class=\"bash\">$ hexo new &quot;My New Post&quot;\n</code></pre>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvd3JpdGluZy5odG1s\">Writing</span></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><pre><code class=\"bash\">$ hexo server\n</code></pre>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvc2VydmVyLmh0bWw=\">Server</span></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><pre><code class=\"bash\">$ hexo generate\n</code></pre>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3MvZ2VuZXJhdGluZy5odG1s\">Generating</span></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><pre><code class=\"bash\">$ hexo deploy\n</code></pre>\n<p>More info: <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oZXhvLmlvL2RvY3Mvb25lLWNvbW1hbmQtZGVwbG95bWVudC5odG1s\">Deployment</span></p>\n",
            "tags": [
                "Note",
                "Hexo"
            ]
        }
    ]
}